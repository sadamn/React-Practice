  <div class="pagetitle">

    </div><!-- End Page Title -->

    <section class="section">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-body pt-3">

             
            <h1>All Users</h1> <br>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addUser">
                Add User
          </button>
              {{!-- <h5 class="card-title"><button type="button" class="btn btn-primary" style="margin-right: 2px; margin-bottom: 2px;">Add User</button></h5> --}}
              {{!-- <p>Add lightweight datatables to your project with using the <a href="https://github.com/fiduswriter/Simple-DataTables" target="_blank">Simple DataTables</a> library. Just add <code>.datatable</code> class name to any table you wish to conver to a datatable</p> --}}
                {{!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#disabledAnimation">Add User</button> --}}
              
              <!-- Table with stripped rows -->
    <div class="datatable-wrapper datatable-loading no-footer sortable searchable fixed-columns"><div class="datatable-top">
    {{!-- <div class="datatable-dropdown">
            <label>
                <select class="datatable-selector"><option value="5">5</option><option value="10" selected="">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option></select> entries per page
            </label>
        </div> --}}
        
    <div class="datatable-search">
            <input id="searchInput" class="datatable-input" placeholder="Search..." type="search" title="Search within table">
        </div>
    </div>

<div class="datatable-container">
    <table class="table datatable datatable-table">
        <thead>
            <tr>
                <th data-sortable="true" style="width: 10%;"><a href="#" class="datatable-sorter">Employee Id</a></th>
                <th data-sortable="true" style="width: 30%;"><a href="#" class="datatable-sorter">Name</a></th>
                <th data-sortable="true" aria-sort="ascending" class="datatable-ascending" style="width: 30%;"><a href="#" class="datatable-sorter">Email</a></th>
                <th data-sortable="true" style="width: 20%;"><a href="#">Actions</a></th>
                {{!-- <th data-sortable="true" style="width: 2%;"><a href="#">Start Date</a></th> --}}
            </tr>
        </thead>
        <tbody>
            {{!-- {{#each users}}
                <tr data-index="{{@index}}">
                      <td>{{this.employeeID}}</td>
                      <td>{{this.name}}</td>
                      <td>{{this.email}}</td>
                      {{!-- <td>{{@index}}</td> --}}
                      <td>
                        {{!-- <button type="button" class="btn btn-success btn-sm" style="margin-right: 1px; margin-bottom: 2px;" onclick="editUser('{{this.employeeID}}')" data-bs-toggle="modal" data-bs-target="#updateUserModal">Edit</button> --}}
                        <button type="button" class="btn btn-success btn-sm" style="margin-right: 1px; margin-bottom: 2px;"  onclick="populateEditModal('{{this.employeeID}}')">Edit</button>
                        <button type="button" class="btn btn-danger btn-sm" id="removeUser" onclick="deleteUsers('{{this.employeeID}}')">Remove</button>
                      </td>
                </tr>
                        
            {{/each}}    --}}
        </tbody>
        <br>
    </table>
</div>

   {{!-- EDIT MODAL --}}
              <div class="modal" id="updateUserModal" tabindex="-1">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title">Edit User Information</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <div class="col-xl-10">
                        <div class="card">
                          <div class="card-body pt-3">
                           <form id="updateForm" class="row g-3 needs-validation">
                                        <div class="col-12">
                                          <label for="employeeID" class="form-label">Employee Number</label>
                                          <input type="text" name="employeeID" class="form-control" id="updateEmployeeID" value="" readonly>
                                          <div class="invalid-feedback">Enter Employee ID</div>
                                        </div>
                                        <br>
                                        <div class="col-12">
                                          <label for="name" class="form-label">Full Name</label>
                                          <input type="text" name="name" class="form-control" id="updateName" required value="">
                                          <div class="invalid-feedback">Please, enter your name!</div>
                                        </div>
                                         <br> 
                                        <div class="col-12">
                                          <label for="email" class="form-label">Email</label>
                                          <input type="email" name="email" class="form-control" id="updateEmail" required value="">
                                          <div class="invalid-feedback">Please enter a valid Email adddress!</div>
                                        </div>
                                        <br>
                                        <div class="col-12">
                                        <label for="username" class="form-label">Username</label>
                                        <div class="input-group has-validat ion">
                                            <input type="text" name="username" class="form-control" id="updateUsername" required value="">
                                            <div class="invalid-feedback">Please choose a username.</div>
                                        </div>
                                        </div>
                                        <div class="modal-footer">
                                          <button type="button" class="btn btn-primary w-70" onclick="updateResetUser('true')">Save Changes</button>
                                          {{!--  --}}
                                          <button type="button" class="btn btn-success" onclick="updateResetUser()">Reset Password</button>
                                        </div>
                        </form>
                      </div>
                    </div>
                    </div>
                    </div>
                    <div class="modal-footer">
                      {{!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> --}}
                    </div>
                  </div>
                </div>
              </div>
      {{!-- END EDIT MODAL --}}    
            
{{!-- <div class="datatable-bottom">
    <div class="datatable-info" id="entries">Showing {{users.length}} entries</div>
    <nav class="datatable-pagination"><ul class="datatable-pagination-list"></ul></nav>
</div> --}}
</div>
              <!-- End Table with stripped rows -->

            </div>
          </div>

        </div>
      </div>
    </section>

              <!-- Full Screen Modal -->
              <div class="modal" id="addUser" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title">Add User</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                                  <form class="row g-3 needs-validation" onsubmit="false" action="/users" method="POST">
                                        <div class="col-12">
                                          <label for="employeeID" class="form-label">Employee Number</label>
                                          <input type="text" name="employeeID" class="form-control" id="employeeID" required>
                                          <div class="invalid-feedback">Enter Employee ID</div>
                                        </div>

                                        <div class="col-12">
                                          <label for="name" class="form-label">Full Name</label>
                                          <input type="text" name="name" class="form-control" id="name" required>
                                          <div class="invalid-feedback">Please, enter your name!</div>
                                        </div>

                                        <div class="col-12">
                                          <label for="email" class="form-label">Email</label>
                                          <input type="email" name="email" class="form-control" id="email" required>
                                          <div class="invalid-feedback">Please enter a valid Email adddress!</div>
                                        </div>

                                        <div class="col-12">
                                        <label for="username" class="form-label">Username</label>
                                        <div class="input-group has-validat ion">
                                            <input type="text" name="username" class="form-control" id="username" required>
                                            <div class="invalid-feedback">Please choose a username.</div>
                                        </div>
                                        </div>
                                        <div class="modal-footer">
                                        <button class="btn btn-primary w-70" type="submit">Create Account</button>
                                        <div class="alert alert-danger alert-dismissible fade show" role="alert">TEST
                                              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        </div>
                                        </div>
                                    </form>
                    </div>
                    <div class="modal-footer">
                    </div>
                  </div>
                </div>
              </div><!-- End Full Screen Modal-->

              <script>
                var usersData = {{#json users}}{{/json}};
              </script>

              <script src="/assets/js/users.js"></script>